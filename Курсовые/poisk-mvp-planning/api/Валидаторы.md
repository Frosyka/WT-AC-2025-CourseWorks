# Валидаторы

В этом документе описаны правила валидации для входящих данных в API. Валидация данных необходима для обеспечения корректности и безопасности обработки запросов.

## Общие правила валидации

1. **Обязательные поля**: Все обязательные поля должны быть заполнены. Если поле не заполнено, возвращается ошибка с соответствующим сообщением.
2. **Формат данных**: Данные должны соответствовать установленным форматам (например, телефонные номера, адреса электронной почты и т.д.). В случае несоответствия возвращается ошибка.
3. **Длина данных**: Для строковых полей необходимо проверять минимальную и максимальную длину. Если длина не соответствует требованиям, возвращается ошибка.
4. **Допустимые значения**: Для полей с ограниченным набором значений (например, приоритет) необходимо проверять, что значение входит в допустимый список. В противном случае возвращается ошибка.

## Правила валидации для полей заявки

- **Имя заявителя**:
  - Обязательное поле.
  - Должно содержать только буквы и пробелы.
  - Минимальная длина: 2 символа.
  - Ошибка: «Укажите корректное имя заявителя».

- **Контакт (телефон)**:
  - Обязательное поле.
  - Должен соответствовать формату: +375/ +7 ... (10 цифр).
  - Ошибка: «Неверный формат телефона».

- **Место (адрес или координаты)**:
  - Обязательное поле.
  - Должно содержать минимум 5 символов.
  - Ошибка: «Укажите адрес или координаты».

- **Время последнего контакта**:
  - Обязательное поле.
  - Должно быть в формате даты и времени (например, YYYY-MM-DD HH:MM).
  - Ошибка: «Укажите корректную дату и время».

- **Описание примет/обстоятельств**:
  - Обязательное поле.
  - Минимальная длина: 20 символов.
  - Ошибка: «Добавьте подробности (минимум 20 символов)».

- **Приоритет**:
  - Обязательное поле.
  - Допустимые значения: низкий, средний, высокий.
  - Ошибка: «Укажите корректный приоритет (низкий/средний/высокий)».

## Примеры ошибок валидации

- Если имя заявителя пустое: 
  - Ответ: `{ "error": "Укажите имя заявителя" }`
  
- Если телефон не соответствует формату:
  - Ответ: `{ "error": "Неверный формат телефона" }`
  
- Если адрес слишком короткий:
  - Ответ: `{ "error": "Укажите адрес или координаты" }`
  
- Если время последнего контакта не в правильном формате:
  - Ответ: `{ "error": "Укажите корректную дату и время" }`
  
- Если описание слишком короткое:
  - Ответ: `{ "error": "Добавьте подробности (минимум 20 символов)" }`
  
- Если приоритет не из допустимых значений:
  - Ответ: `{ "error": "Укажите корректный приоритет (низкий/средний/высокий)" }`

## Заключение

Правила валидации являются важной частью обеспечения качества данных, поступающих в API. Следование этим правилам поможет избежать ошибок и повысить надежность системы.